(this["webpackJsonpra-lifecycle-http-2-front"]=this["webpackJsonpra-lifecycle-http-2-front"]||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(11),c=n.n(s),o=(n(16),n(17),n(3)),i=n(2),u=n.n(i),l=n(8),h=n(4),d=n(5),p=n(7),f=n(6),b=n(9),j=n(0),O=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).defaultState={id:"0",content:""},t.state=t.defaultState,t}return Object(d.a)(n,[{key:"inputChangeHandler",value:function(t){this.setState(Object(o.a)(Object(o.a)({},this.state),{},Object(b.a)({},t.target.name,t.target.value)))}},{key:"formSubmitHandler",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,fetch("https://gentle-forest.herokuapp.com/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state)});case 3:204===t.sent.status&&this.props.updateNotes(),this.setState(this.defaultState);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsxs)("form",{className:"note-form",onSubmit:this.formSubmitHandler.bind(this),children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"note-form-label",htmlFor:"noteContent",children:"New note"}),Object(j.jsx)("textarea",{className:"note-form-input",name:"content",id:"noteContent",cols:"30",rows:"5",placeholder:"Note content",onChange:this.inputChangeHandler.bind(this),value:this.state.content})]}),Object(j.jsx)("button",{className:"note-form-btn",children:"Add note"})]})}}]),n}(a.Component),v=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"deleteClickHandler",value:function(){this.props.deleteNote(this.props.id)}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"note-container",children:[Object(j.jsx)("p",{children:this.props.content}),Object(j.jsx)("div",{className:"note-delete",onClick:this.deleteClickHandler.bind(this),children:"\u2717"})]})}}]),n}(a.Component),m=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={notes:[]},t}return Object(d.a)(n,[{key:"updateNotes",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://gentle-forest.herokuapp.com/notes");case 2:if(!(e=t.sent).ok){t.next=18;break}return t.prev=4,t.t0=this,t.next=8,e.json();case 8:t.t1=t.sent,t.t2={notes:t.t1},t.t0.setState.call(t.t0,t.t2),t.next=16;break;case 13:t.prev=13,t.t3=t.catch(4),console.error("Error parsing server response as JSON");case 16:t.next=19;break;case 18:console.error("Request failed: ".concat(e.status));case 19:case"end":return t.stop()}}),t,this,[[4,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"deleteNote",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://gentle-forest.herokuapp.com/notes","/").concat(e),{method:"DELETE"});case 2:204===t.sent.status&&(n=this.state.notes.findIndex((function(t){return t.id===e})))>-1&&((a=Object(o.a)({},this.state)).notes.splice(n,1),this.setState(a));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.updateNotes()}},{key:"render",value:function(){var t=this;return Object(j.jsxs)("div",{className:"notes-wrapper",children:[Object(j.jsxs)("div",{className:"notes-header-container",children:[Object(j.jsx)("h3",{children:"Notes"}),Object(j.jsx)("div",{className:"notes-refresh",onClick:this.updateNotes.bind(this),children:"\u27f3"})]}),Object(j.jsx)("div",{className:"notes-container",children:this.state.notes.map((function(e){return Object(a.createElement)(v,Object(o.a)(Object(o.a)({},e),{},{deleteNote:t.deleteNote.bind(t),key:e.id}))}))}),Object(j.jsx)(O,{updateNotes:this.updateNotes.bind(this)})]})}}]),n}(a.Component);var x=function(){return Object(j.jsx)(m,{})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),s(t),c(t)}))};c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),k()}},[[20,1,2]]]);
//# sourceMappingURL=main.bbd23e88.chunk.js.map